import os
from optparse import OptionParser
	
if __name__ == '__main__':
	parser = OptionParser()
	parser.add_option("-i", "--input", dest="rawFileList")
	parser.add_option("-o", "--output", dest="EditFileList")
	(options, args) = parser.parse_args()

	raw_file_list = options.rawFileList
	edit_file_list = options.EditFileList

	if raw_file_list != None:
		fip = open(raw_file_list)
		file_list = fip.readlines()
		fip.close()
		writer = open(edit_file_list, "w")

		for file_name in file_list:
			# writer.write(str(file_name.split('	')[0]) + os.linesep) 
			temp = file_name.split('	')[2]
			if temp.split(' ')[0] == "Nothing" or temp.split(' ')[0] == "Microsoft" or temp.split(' ')[0] == "Borland" or temp.split(' ')[0] == "MASM32" :
				writer.write(str(file_name.split('	')[0]) + os.linesep)
				# or temp.split(' ')[0] == "Nullsoft" or temp.split(' ')[0] == "PE" or temp.split(' ')[0] == "UPX" or temp.split(' ')[0] == "PECompact"
				# or temp.split(' ')[0] == "PEncrypt" or temp.split(' ')[0] == "MingWin32" or temp.split(' ')[0] == "ASPack"  
				# or temp.split(' ')[0] == "Inno-Setup" or temp.split(' ')[0] == "Inno"
				
	else:
		print("ERROR: Input File List Not Found")